{% load static %}

<style>
    .flag-modal {
      /* Hidden by default */
      position: fixed; /* Stay in place */
      z-index: 1000; /* Sit on top */
      padding-top: 100px; /* Location of the box */
      left: 0;
      top: 0;
      width: 100%; /* Full width */
      height: 100%; /* Full height */
      overflow: auto; /* Enable scroll if needed */
      background-color: rgb(0,0,0); /* Fallback color */
      background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }


   @media screen and (min-width: 270px) {
      .flag-margin{
        width: 85%;
      }
    }

    @media screen and (min-width: 480px) {
      .flag-margin{
        left: 35%;
        width: 50%;
      }
    }
</style>

<div id="overview-content" class="content-section is-active">
    <div class="columns">

        <!-- POSTS -->
        <div class="column is-12">
<!--            <div id="profile-timeline-posts" class="box-heading">-->
<!--                <h4>Posts</h4>-->
<!--                <div class="button-wrap">-->
<!--                    <button type="button" class="button is-active">Recent</button>-->
<!--&lt;!&ndash;                    <button type="button" class="button">Popular</button>&ndash;&gt;-->
<!--                </div>-->
<!--            </div>-->
            <div class="profile-timeline-post">
                <!-- Timeline post -->
                <!-- html/partials/pages/profile/posts/timeline-post1.html -->
                <div id="flag-reason" class="is-hidden flag-modal">
                       <div  class="flag-margin" style="display: block;z-index: 1000;min-width: 320px;max-width: 500px;padding: 20px;margin: 20px;position: fixed; top: 30%;border: 1px solid #44a4a; background: white; border-radius: 12px;">
                    <a onclick="closeFlag()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-x">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </a>
                    <div class="column is-12" style="margin-top: 10px;">
                        <div class="field field-group" style="margin-top: 5px;">
                            <label>Reason</label>
                            <div class="control has-icon">
                                <input type="text" class="input is-fade" placeholder="Reason..." name="flag-reason"
                                    required>
                                <div class="form-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" class="feather feather-briefcase">
                                        <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                                        <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <button onclick="FlagPost()" style="margin-top: 10px;"
                            class="button is-solid primary-button raised">Submit</button>
                    </div>
                    <input type="text" name="flag-post-id" hidden>
                </div>

                </div>


            </div>

             <!-- Load more posts -->
                    <div id="load-more-btn" class=" load-more-wrap narrow-top has-text-centered">
                        <a onclick="morePost()" id="load-more" class="load-more-button">Load More</a>
                    </div>
                    <div id="no-post-tag" class=" load-more-wrap narrow-top has-text-centered" style="display: none;">
                        <p>No more posts!...</p>

                    </div>
                        <div class="page-placeholder-post" id="blank-post-tag">
                                                    <div class="placeholder-content">
                                                        <img class="light-image" src="{% static 'social_assets/img/illustrations/placeholders/2.svg' %}" alt="" />
                                                        <img class="dark-image" src="{% static 'social_assets/img/illustrations/placeholders/2-dark.svg' %}" alt="" />
                                                        <h3>You don't have any post yet.</h3>

                                                    </div>
                        </div>
                    <!-- /Load more posts -->
        </div>
        <!-- End of posts -->
    </div>
</div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<script>
    function getCommentList(id) {
        host = window.location.host;
        let url = `{% url 'post:api-comment-list' %}?post_id=${id}`;
        console.log(url);
        $.ajax({
            url : url,
            success: function(response)
            {

                    console.log(response);
                    document.getElementById('comment-counter' + id).innerHTML = response.length;
                    $("#comment-header" + id).html("(" + response.length + ")");
                    document.getElementById('comment-body' + id).innerHTML = "";
                    $.each(response, function (cmt_id, data) {
                        if (data['user_profile'] === '') {
                            var profile = "{% static 'social_assets/img/avatars/dan.jpg' %}";
                        } else {
                            var profile = window.location.origin + '/media/' + data['user_profile'];
                        }
                        document.getElementById('comment-body' + id).innerHTML += `<div class="media is-comment">
                                    <div class="media-left">
                                        <div class="image">
                                            <img src="` + profile + `"
                                                data-demo-src="" data-user-popover="1" alt="">
                                        </div>
                                    </div>
                                    <div class="media-content">
                                        <a href="/user/profile/` + data['post_user_id'] +`">` + data['post_user'] + `</a>
                                        <span class="time">` + data['user'] + `  &nbsp;&nbsp; - &nbsp;&nbsp;`+ data['timestamp'] +` </span>
                                        <p>` + data['comment'] + `</p>

                                        <div class="controls">
<!--                                            <div class="like-count">-->
<!--                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-thumbs-up"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>-->
<!--                                                <span>4</span>-->
<!--                                            </div>-->
<!--                                            <div class="reply">-->
<!--                                                <a>Reply</a>-->
<!--                                            </div>-->
<!--                                            <div class="edit">-->
<!--                                                <a>Edit</a>-->
<!--                                            </div>-->
                                        </div>
                                    </div>
                                    <div class="media-right">
                                        <div class="dropdown is-spaced is-right is-neutral dropdown-trigger">
                                            <div>
                                                <div class="button">
                                                    <i data-feather="more-vertical"></i>
                                                </div>
                                            </div>
                                            <div class="dropdown-menu" role="menu">
                                                <div class="dropdown-content">
                                                    <a class="dropdown-item">
                                                        <div class="media">
                                                            <i data-feather="x"></i>
                                                            <div class="media-content">
                                                                <h3>Hide</h3>
                                                                <small>Hide this comment.</small>
                                                            </div>
                                                        </div>
                                                    </a>
                                                    <div class="dropdown-divider"></div>
                                                    <a class="dropdown-item">
                                                        <div class="media">
                                                            <i data-feather="flag"></i>
                                                            <div class="media-content">
                                                                <h3>Report</h3>
                                                                <small>Report this comment.</small>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>`;
                    });


            }
        });

    }

    function display_comments(id) {
        // $("#comment-text-action" + id).css({
        //     display: "none"
        // });
        $('#comments-wrap' + id).removeClass('is-hidden');
        $('#content-wrap' + id).addClass('is-hidden');
        getCommentList(id);
    }

    function closeComment(id) {
        $('#comments-wrap' + id).addClass('is-hidden');
        $('#content-wrap' + id).removeClass('is-hidden');
    }

    function postComment(id) {
        var formData = new FormData();
        var comment = $("textarea[name='comment" + id + "']").val();
        if (comment === "") {
            $("#comment-text-action" + id).css({
                display: "block"
            });
        } else {
            $("#comment-text-action" + id).css({
                display: "none"
            });
            formData.append('csrfmiddlewaretoken', $("input[name='csrfmiddlewaretoken']").val());
            formData.append('id', id);
            formData.append('comment', comment);
            $.ajax({
                type: "POST",
                url: "{% url 'post:comment' %}",
                data: formData,
                contentType: false,
                processData: false,
                success: function (response) {
                    if (response['status'] === false) {
                        alert(response['Message']);
                    }
                    $("textarea[name='comment" + id + "']").val("");
                    display_comments(id);
                },
                error: function (response) {
                    alert(response['Message']);
                },
            });
        }
    }

    function BookMark(id) {
        var csrfmiddlewaretoken = $("input[name='csrfmiddlewaretoken']").val();
        $("#options-post-" + id).removeClass('is-active');
        $.ajax({
            async: true,
            method: "POST",
            url: "{% url 'post:book-mark' %}",
            data: {
                csrfmiddlewaretoken: csrfmiddlewaretoken,
                'id': id,
            },
            success: function (response) {
                console.log(response);
                if (response['Status'] === false) {
                    alert(response['Message']);
                } else if (response['Status'] === 1) {
                    $('#book-mark-bookmark' + id).css('fill', '#1589FF');
                    $('#book-mark-' + id).css('fill', '#1589FF');
                } else {
                    $('#feed-bookmark-post-' +id).remove();
                    $('#book-mark-bookmark' + id).css('fill', 'none');
                    $('#book-mark-' + id).css('fill', 'none');
                }
            },
            error: function (response) {
                alert(response['Message']);
            },
        });
    }

    function FlagPost() {
        var csrfmiddlewaretoken = $("input[name='csrfmiddlewaretoken']").val();
        $("#options-post-" + id).removeClass('is-active');
        $('#flag-reason').removeClass('is-hidden');
        var id = $("input[name='flag-post-id']").val();
        var reason = $("input[name='flag-reason']").val();
        if (reason === "") {
            alert("Please tell us the reason...");
        } else {
            $.ajax({
                async: true,
                method: "POST",
                url: "{% url 'post:flag-post' %}",
                data: {
                    csrfmiddlewaretoken: csrfmiddlewaretoken,
                    'id': id,
                    'reason': reason,
                },
                success: function (response) {
                    console.log(response, id);
                    if (response['Status'] === false) {
                        alert(response['Message']);
                    } else if (response['Status'] === true) {
                        $('#flag-post-' + id).css('fill', '#FF0000');
                        $('#flag-reason').addClass('is-hidden');
                        alert("Your response added succesfully...");
                        window.location.reload();
                    }
                },
                error: function (response) {
                    alert(response['Message']);
                },
            });
        }
    }

    function openFlag(id) {
        $('#flag-reason').removeClass('is-hidden');
        $("input[name='flag-post-id']").val(id);
    }

    function closeFlag() {
        $('#flag-reason').addClass('is-hidden');
    }


    let dict;

    function createPost(posts)
    {
        posts.forEach(post => {

            if(post.code === undefined || post.code===null ||post.code==='')
            {
                currentPosts += 1;
                            let likeStatus = "";
                            if (post.like_status) {
                                likeStatus = `<a onclick="like('` + post.post_id + `', '{{request.user}}')"
                                        id="like-button` + post.post_id + `" class="like-button is-active">
                                        <i class="mdi mdi-heart not-liked bouncy"></i>
                                        <i class="mdi mdi-heart is-liked bouncy"></i>
                                        <span class="like-overlay"></span>
                                    </a>`;
                            }
                            else {
                                likeStatus = `<a onclick="like('` + post.post_id + `', '{{request.user}}')"
                                                id="like-button` + post.post_id + `" class="like-button">
                                                <i class="mdi mdi-heart not-liked bouncy"></i>
                                                <i class="mdi mdi-heart is-liked bouncy"></i>
                                                <span class="like-overlay"></span>
                                            </a>`;
                            }
                            $('.profile-timeline-post').append(`
<div id="feed-post-` + post.post_id + `" style="display: block;" class="card is-post `+ post.flag +`"
    data-category="` + post.category + `" data-language="` + post.language + `" data-id="` +
                            post.post_id + `" data-username="` + post.user + `" data-description="` + post.description +
                            `" data-counter="` + currentPosts + `" data-scope="` + post.scope_of_work + `"
    data-profile="` + post.profile + `"
    category="${post.category}"
    language="${post.language}"
    scope_of_work="${post.scope_of_work}"
    >
    <!-- Main wrap -->
    <div id="content-wrap`+ post.post_id +`" class="content-wrap">
        <!-- Post header -->
        <div class="card-heading">
            <!-- User meta -->
            <div class="user-block">
                <a class="image" href="`+ window.location.origin +`/user/profile/">
                    <img src="` + post.profile + `" data-user-popover="1" alt="">
                </a>
                <div class="user-info">
                    <a href="/user/profile/`+ post.user_id +`/">` + post.user + `</a>
                    <span class="time">` + post.timestamp + `</span>
                </div>
            </div>
            <!-- Right side dropdown -->
            <!-- /partials/pages/feed/dropdowns/feed-post-dropdown.html -->
            <div id="options-post-`+ post.post_id +`" onclick="postOptions('`+ post.post_id +`')"
                class="dropdown is-spaced is-right is-neutral dropdown-trigger">
                <div>
                    <div class="button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-more-vertical">
                            <circle cx="12" cy="12" r="1"></circle>
                            <circle cx="12" cy="5" r="1"></circle>
                            <circle cx="12" cy="19" r="1"></circle>
                        </svg>
                    </div>
                </div>
                <div class="dropdown-menu" role="menu">
                    <div class="dropdown-content" id="dropdown_${post.post_id}">
                        <a onclick="BookMark('`+ post.post_id +`')" class="dropdown-item">
                            <div class="media">
                                <svg id="book-mark-`+ post.post_id +`" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="`+ post.bookmark +`" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark">
                                                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z">
                                                        </path>
                                                    </svg>
                                <div class="media-content">
                                    <h3>Bookmark</h3>
                                    <small>Add this post to your bookmarks.</small>
                                </div>
                            </div>
                        </a>


                    </div>
                </div>
            </div>
        </div>
        <!-- /Post header -->

        <!-- Post body -->
        <div class="card-body">
            <!-- Post body text -->
            <div class="post-text">

                ` + post.description + `

            </div>
            <!-- Featured image -->
            <div class="post-image">
                `+(post.image1 != "" ? `
                <a data-fancybox="post`+ post.post_id +`" data-lightbox-type="comments" data-thumb="` + post.image1 + `' %}"
                    href="` + post.image1 + `" data-demo-href="` + post.image1 + `' %}">
                    <center><img src="` + post.image1 + `" alt="" style="width: 100%;height: auto;margin-top: 1em;"></center>
                </a>
                ` : ``) +`
                `+ (post.image2 != "" ? `
                <a class="is-hidden" data-fancybox="post`+ post.post_id +`" data-lightbox-type="comments" data-thumb="` + post.image2 + `' %}"
                    href="` + post.image2 + `" data-demo-href="` + post.image2 + `' %}">
                    <img src="` + post.image2 + `" alt="">
                </a>
                ` : ``)+`
                `+ (post.image3 != "" ? `
                <a class="is-hidden" data-fancybox="post`+ post.post_id +`" data-lightbox-type="comments" data-thumb="` + post.image3 + `' %}"
                    href="` + post.image3 + `" data-demo-href="` + post.image3 + `' %}">
                    <img src="` + post.image3 + `" alt="">
                </a>
                ` : ``)+`
                `+ (post.image4 != "" ? `
                <a class="is-hidden" data-fancybox="post`+ post.post_id +`" data-lightbox-type="comments" data-thumb="` + post.image4 + `' %}"
                    href="` + post.image4 + `" data-demo-href="` + post.image4 + `' %}">
                    <img src="` + post.image4 + `" alt="">
                </a>
                ` : ``)+`
                `+ (post.image5 != "" ? `
                <a class="is-hidden" data-fancybox="post`+ post.post_id +`" data-lightbox-type="comments" data-thumb="` + post.image5 + `' %}"
                    href="` + post.image5 + `" data-demo-href="` + post.image5 + `' %}">
                    <img src="` + post.image5 + `" alt="">
                </a>
                ` : ``)+`

                <!-- Action buttons -->
                <!-- /partials/pages/feed/buttons/feed-post-actions.html -->
                <div class="like-wrapper">
                    ` + likeStatus + `
                </div>

<!--                <div class="fab-wrapper is-share">-->
<!--                    <a href="javascript:void(0);" class="small-fab share-fab modal-trigger" data-modal="share-modal">-->
<!--                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link-2"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg>-->
<!--                    </a>-->
<!--                </div>-->

                <div class="fab-wrapper is-share is-active">
                    <a onclick="moreComments('` + post.post_id + `')" href="javascript:void(0);" class="small-fab">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-message-circle">
                            <path
                                d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                            </path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        <!-- /Post body -->

        <!-- Post footer -->
        <div class="card-footer">
            <!-- Followers avatars -->
            <!-- <div class="likers-group">
                                    <img src="https://via.placeholder.com/300x300"
                                        data-demo-src="{% static 'social_assets/img/avatars/dan.jpg' %}"
                                        data-user-popover="1" alt="">
                                    <img src="https://via.placeholder.com/300x300"
                                        data-demo-src="{% static 'social_assets/img/avatars/david.jpg' %}"
                                        data-user-popover="4" alt="">
                                    <img src="https://via.placeholder.com/300x300"
                                        data-demo-src="{% static 'social_assets/img/avatars/edward.jpeg"
                                        data-user-popover="5" alt="">
                                    <img src="https://via.placeholder.com/300x300"
                                        data-demo-src="{% static 'social_assets/img/avatars/milly.jpg' %}"
                                        data-user-popover="7" alt="">
                                </div> -->
            <!-- Followers text -->
            <div class="likers-text">
                <p><span class="likes-display` + post.post_id + `">` + post.likes + `</span> people liked this post
                </p>
            </div>
            <!-- Post statistics -->
            <div class="social-count" style="margin-top: 1em;">

                <div class="likes-count">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="feather feather-heart">
                        <path
                            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                        </path>
                    </svg>
                    <span class="likes-display` + post.post_id + `">` + post.likes + `</span>
                </div>

<!--                <div class="shares-count">-->
<!--                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"-->
<!--                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"-->
<!--                        class="feather feather-link-2">-->
<!--                        <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>-->
<!--                        <line x1="8" y1="12" x2="16" y2="12"></line>-->
<!--                    </svg>-->
<!--                    <span>9</span>-->
<!--                </div>-->

                <div class="comments-count">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="feather feather-message-circle">
                        <path
                            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                        </path>
                    </svg>
                    <span id="comment-counter` + post.post_id + `">`+ post.comments +`</span>
                </div>

            </div>
        </div>
        <!-- /Post footer -->
    </div>
    <!-- /Main wrap -->

    <!-- Post Comments -->

    <!-- /Post Comments -->
    <div id="comments-wrap`+ post.post_id +`" class="comments-wrap is-hidden">
        <!-- Header -->
        <div class="comments-heading">
            <h4>Comments
                <small id="comment-header` + post.post_id + `">${post.comments}</small>
            </h4>
            <a onclick="closeComment('`+ post.post_id +`')" id="close-comment`+ post.post_id +`" class="close-comments">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="feather feather-x">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </a>
        </div>
        <!-- /Header -->

        <!-- Comments body -->
        <div id="comment-body` + post.post_id + `" class="comments-body has-slimscroll">
        </div>

        <!-- /Comments body -->

        <!-- Comments footer -->
        <div class="card-footer">
            <div class="media post-comment has-emojis">
                <!-- Comment Textarea -->
                <div class="media-content">
                    <div class="field">
                        <div class="control">
                            <textarea name="comment` + post.post_id + `" id="post-comment-textarea-2"
                                class="textarea comment-textarea" rows="5" placeholder="Write a comment..."></textarea>
                        </div>
                    </div>
                    <center><small id="comment-text-action` + post.post_id + `" style="color: red; display: none;background: #FADBDE;padding: 0.5em;border-radius: 0.5em;">Enter some comment</small></center>
                    <!-- Additional actions -->
                    <div class="actions">
                        <div class="image is-32x32">
                            <img class="is-rounded" src="{{request.user.get_profile_img}}"
                                data-demo-src="{{request.user.get_profile_img}}" data-user-popover="0"
                                alt="">
                        </div>
                        <div class="toolbar">
<!--                            <div class="action is-auto">-->
<!--                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"-->
<!--                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"-->
<!--                                    stroke-linejoin="round" class="feather feather-at-sign">-->
<!--                                    <circle cx="12" cy="12" r="4"></circle>-->
<!--                                    <path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>-->
<!--                                </svg>-->
<!--                            </div>-->
<!--                            <div class="action is-emoji" id="post-comment-button-2">-->
<!--                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"-->
<!--                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"-->
<!--                                    stroke-linejoin="round" class="feather feather-smile">-->
<!--                                    <circle cx="12" cy="12" r="10"></circle>-->
<!--                                    <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>-->
<!--                                    <line x1="9" y1="9" x2="9.01" y2="9"></line>-->
<!--                                    <line x1="15" y1="9" x2="15.01" y2="9"></line>-->
<!--                                </svg>-->
<!--                            </div>-->
                            <!-- <div class="action is-upload">
                                                    <i data-feather="camera"></i>
                                                    <input type="file" name="image" id="comment_image"
                                                        accept=".png, .jpg, .jpeg">
                                                </div> -->
                            <button onclick="postComment('` + post.post_id + `')"
                                class="button is-solid primary-button raised">Post
                                Comment</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Comments footer -->

    </div>
</div>
                            `);
            }
            else{
                currentPosts += 1;
                            let likeStatus = "";
                            if (post.like_status) {
                                likeStatus = `<a onclick="like('` + post.post_id + `', '{{request.user}}')"
                                        id="like-button` + post.post_id + `" class="like-button is-active">
                                        <i class="mdi mdi-heart not-liked bouncy"></i>
                                        <i class="mdi mdi-heart is-liked bouncy"></i>
                                        <span class="like-overlay"></span>
                                    </a>`;
                            }
                            else {
                                likeStatus = `<a onclick="like('` + post.post_id + `', '{{request.user}}')"
                                                id="like-button` + post.post_id + `" class="like-button">
                                                <i class="mdi mdi-heart not-liked bouncy"></i>
                                                <i class="mdi mdi-heart is-liked bouncy"></i>
                                                <span class="like-overlay"></span>
                                            </a>`;
                            }
                            $('.profile-timeline-post').append(`
<div id="feed-post-` + post.post_id + `" style="display: block;" class="card is-post `+ post.flag +`"
    data-category="` + post.category + `" data-language="` + post.language + `" data-id="` +
                            post.post_id + `" data-username="` + post.user + `" data-description="` + post.description +
                            `" data-counter="` + currentPosts + `" data-scope="` + post.scope_of_work + `"
    data-profile="` + post.profile + `"
    category="${post.category}"
    language="${post.language}"
    scope_of_work="${post.scope_of_work}"
    >
    <!-- Main wrap -->
    <div id="content-wrap`+ post.post_id +`" class="content-wrap">
        <!-- Post header -->
        <div class="card-heading">
            <!-- User meta -->
            <div class="user-block">
                <a class="image" href="`+ window.location.origin +`/user/profile/">
                    <img src="` + post.profile + `" data-user-popover="1" alt="">
                </a>
                <div class="user-info">
                    <a href="/user/profile/`+ post.user_id +`/">` + post.user + `</a>
                    <span class="time">` + post.timestamp + `</span>
                </div>
            </div>
            <!-- Right side dropdown -->
            <!-- /partials/pages/feed/dropdowns/feed-post-dropdown.html -->
            <div id="options-post-`+ post.post_id +`" onclick="postOptions('`+ post.post_id +`')"
                class="dropdown is-spaced is-right is-neutral dropdown-trigger">
                <div>
                    <div class="button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-more-vertical">
                            <circle cx="12" cy="12" r="1"></circle>
                            <circle cx="12" cy="5" r="1"></circle>
                            <circle cx="12" cy="19" r="1"></circle>
                        </svg>
                    </div>
                </div>
                <div class="dropdown-menu" role="menu">
                    <div class="dropdown-content" id="dropdown_${post.post_id}">
                        <a onclick="BookMark('`+ post.post_id +`')" class="dropdown-item">
                            <div class="media">
                                <svg id="book-mark-`+ post.post_id +`" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="`+ post.bookmark +`" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark">
                                                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z">
                                                        </path>
                                                    </svg>
                                <div class="media-content">
                                    <h3>Bookmark</h3>
                                    <small>Add this post to your bookmarks.</small>
                                </div>
                            </div>
                        </a>

                    </div>
                </div>
            </div>
        </div>
        <!-- /Post header -->

        <!-- Post body -->
        <div class="card-body">
            <!-- Post body text -->
            <div class="post-text">

                ` + post.description + `
                <div style="background-color: #f5f5f5;border-radius: 0.5em;padding: 0.5em;margin-top: 1em;"><pre><code>
            ${post.code}
            </code></pre></div>
            </div>
            <!-- Featured image -->
            <div class="post-image">
                `+(post.image1 != "" ? `
                <a data-fancybox="post`+ post.post_id +`" data-lightbox-type="comments" data-thumb="` + post.image1 + `' %}"
                    href="` + post.image1 + `" data-demo-href="` + post.image1 + `' %}">
                    <center><img src="` + post.image1 + `" alt="" style="width: 100%;height: auto;margin-top: 1em;"></center>
                </a>
                ` : ``) +`
                `+ (post.image2 != "" ? `
                <a class="is-hidden" data-fancybox="post`+ post.post_id +`" data-lightbox-type="comments" data-thumb="` + post.image2 + `' %}"
                    href="` + post.image2 + `" data-demo-href="` + post.image2 + `' %}">
                    <img src="` + post.image2 + `" alt="">
                </a>
                ` : ``)+`
                `+ (post.image3 != "" ? `
                <a class="is-hidden" data-fancybox="post`+ post.post_id +`" data-lightbox-type="comments" data-thumb="` + post.image3 + `' %}"
                    href="` + post.image3 + `" data-demo-href="` + post.image3 + `' %}">
                    <img src="` + post.image3 + `" alt="">
                </a>
                ` : ``)+`
                `+ (post.image4 != "" ? `
                <a class="is-hidden" data-fancybox="post`+ post.post_id +`" data-lightbox-type="comments" data-thumb="` + post.image4 + `' %}"
                    href="` + post.image4 + `" data-demo-href="` + post.image4 + `' %}">
                    <img src="` + post.image4 + `" alt="">
                </a>
                ` : ``)+`
                `+ (post.image5 != "" ? `
                <a class="is-hidden" data-fancybox="post`+ post.post_id +`" data-lightbox-type="comments" data-thumb="` + post.image5 + `' %}"
                    href="` + post.image5 + `" data-demo-href="` + post.image5 + `' %}">
                    <img src="` + post.image5 + `" alt="">
                </a>
                ` : ``)+`

                <!-- Action buttons -->
                <!-- /partials/pages/feed/buttons/feed-post-actions.html -->
                <div class="like-wrapper">
                    ` + likeStatus + `
                </div>

<!--                <div class="fab-wrapper is-share">-->
<!--                    <a href="javascript:void(0);" class="small-fab share-fab modal-trigger" data-modal="share-modal">-->
<!--                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link-2"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg>-->
<!--                    </a>-->
<!--                </div>-->

                <div class="fab-wrapper is-share is-active">
                    <a onclick="moreComments('` + post.post_id + `')" href="javascript:void(0);" class="small-fab">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-message-circle">
                            <path
                                d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                            </path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        <!-- /Post body -->

        <!-- Post footer -->
        <div class="card-footer">
            <!-- Followers avatars -->
            <!-- <div class="likers-group">
                                    <img src="https://via.placeholder.com/300x300"
                                        data-demo-src="{% static 'social_assets/img/avatars/dan.jpg' %}"
                                        data-user-popover="1" alt="">
                                    <img src="https://via.placeholder.com/300x300"
                                        data-demo-src="{% static 'social_assets/img/avatars/david.jpg' %}"
                                        data-user-popover="4" alt="">
                                    <img src="https://via.placeholder.com/300x300"
                                        data-demo-src="{% static 'social_assets/img/avatars/edward.jpeg"
                                        data-user-popover="5" alt="">
                                    <img src="https://via.placeholder.com/300x300"
                                        data-demo-src="{% static 'social_assets/img/avatars/milly.jpg' %}"
                                        data-user-popover="7" alt="">
                                </div> -->
            <!-- Followers text -->
            <div class="likers-text">
                <p><span class="likes-display` + post.post_id + `">` + post.likes + `</span> people liked this post
                </p>
            </div>
            <!-- Post statistics -->
            <div class="social-count" style="margin-top: 1em;">

                <div class="likes-count">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="feather feather-heart">
                        <path
                            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                        </path>
                    </svg>
                    <span class="likes-display` + post.post_id + `">` + post.likes + `</span>
                </div>

<!--                <div class="shares-count">-->
<!--                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"-->
<!--                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"-->
<!--                        class="feather feather-link-2">-->
<!--                        <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>-->
<!--                        <line x1="8" y1="12" x2="16" y2="12"></line>-->
<!--                    </svg>-->
<!--                    <span>9</span>-->
<!--                </div>-->

                <div class="comments-count">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="feather feather-message-circle">
                        <path
                            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                        </path>
                    </svg>
                    <span id="comment-counter` + post.post_id + `">`+ post.comments +`</span>
                </div>

            </div>
        </div>
        <!-- /Post footer -->
    </div>
    <!-- /Main wrap -->

    <!-- Post Comments -->

    <!-- /Post Comments -->
    <div id="comments-wrap`+ post.post_id +`" class="comments-wrap is-hidden">
        <!-- Header -->
        <div class="comments-heading">
            <h4>Comments
                <small id="comment-header` + post.post_id + `">${post.comments}</small>
            </h4>
            <a onclick="closeComment('`+ post.post_id +`')" id="close-comment`+ post.post_id +`" class="close-comments">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="feather feather-x">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </a>
        </div>
        <!-- /Header -->

        <!-- Comments body -->
        <div id="comment-body` + post.post_id + `" class="comments-body has-slimscroll"></div>
        <div id="load-more-comments-btn_${post.post_id}" class=" load-more-wrap narrow-top has-text-centered">
                        <a onclick="moreComments(${post.post_id})" id="load-more" class="load-more-button">Load More</a>
                    </div>
                    <div id="no-comment-tag_${post.post_id}" class=" load-more-wrap narrow-top has-text-centered" style="display: none;">
                        <p>No more posts!...</p>
                    </div>
        <!-- /Comments body -->

        <!-- Comments footer -->
        <div class="card-footer">
            <div class="media post-comment has-emojis">
                <!-- Comment Textarea -->
                <div class="media-content">
                    <div class="field">
                        <div class="control">
                            <textarea name="comment` + post.post_id + `" id="post-comment-textarea-2"
                                class="textarea comment-textarea" rows="5" placeholder="Write a comment..."></textarea>
                        </div>
                    </div>
                    <center><small id="comment-text-action` + post.post_id + `" style="color: red; display: none;background: #FADBDE;padding: 0.5em;border-radius: 0.5em;">Enter some comment</small></center>
                    <!-- Additional actions -->
                    <div class="actions">
                        <div class="image is-32x32">
                            <img class="is-rounded" src="{{request.user.get_profile_img}}"
                                data-demo-src="{{request.user.get_profile_img}}" data-user-popover="0"
                                alt="">
                        </div>
                        <div class="toolbar">
<!--                            <div class="action is-auto">-->
<!--                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"-->
<!--                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"-->
<!--                                    stroke-linejoin="round" class="feather feather-at-sign">-->
<!--                                    <circle cx="12" cy="12" r="4"></circle>-->
<!--                                    <path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>-->
<!--                                </svg>-->
<!--                            </div>-->
<!--                            <div class="action is-emoji" id="post-comment-button-2">-->
<!--                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"-->
<!--                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"-->
<!--                                    stroke-linejoin="round" class="feather feather-smile">-->
<!--                                    <circle cx="12" cy="12" r="10"></circle>-->
<!--                                    <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>-->
<!--                                    <line x1="9" y1="9" x2="9.01" y2="9"></line>-->
<!--                                    <line x1="15" y1="9" x2="15.01" y2="9"></line>-->
<!--                                </svg>-->
<!--                            </div>-->
                            <!-- <div class="action is-upload">
                                                    <i data-feather="camera"></i>
                                                    <input type="file" name="image" id="comment_image"
                                                        accept=".png, .jpg, .jpeg">
                                                </div> -->
                            <button onclick="postComment('` + post.post_id + `')"
                                class="button is-solid primary-button raised">Post
                                Comment</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Comments footer -->
    </div>
</div>
                            `);
            }

            let user_id = "{{ request.user.id }}";
            console.log(user_id, post.user_id, "Aniket");
            if(user_id === post.user_id.toString())
            {
                html = `<hr class="dropdown-divider">
                        <a href="/post/delete/post/${post.post_id}" class="dropdown-item">
                            <div class="media">
                                <i class="mdi mdi-trash-can" style="height: 24px;width: 24px;"></i>
                                <div class="media-content">
                                    <h3>Delete Post</h3>
                                    <small>Delete will permanantly delete your post.</small>
                                </div>
                            </div>
                        </a>`;
                $(`#dropdown_${post.post_id}`).append(html);
            }
        });
    }


    $(document).ready(function () {

       let currentPosts = $('.profile-timeline-post .is-post').length;
    });
    function morePost()
    {
        console.log("More function called from user_posts");
        currentPosts = $('.profile-timeline-post .is-post').length;
        $.ajax({
            async: true,
            method: "GET",
            url: "{% url 'post:load-more-post' %}",
            data: {
                'current_posts': currentPosts,
                'self': "true",
                'user_id': "{{ profile_user.id }}",
            },
            success: function (response) {
                    if (response.Status == false) {
                        if(currentPosts === 0)
                        {
                           $('#load-more-btn').css('display', 'none');
                            $(".page-placeholder-post").show();
                        }
                        else {
                            $('#load-more-btn').css('display', 'none');
                            $('#no-post-tag').css('display', 'block');
                        }
                    }
                    else
                    {
                        $('.page-placeholder-post').hide();
                        createPost(response.posts);
                    }
            },
            error: function (response) {
                console.log(response);
            },
        });
    }


function getSingleComment(id)
    {
        $.ajax({
            async: true,
            method: "GET",
            url: "{% url 'post:get-single-comment' %}",
            data: {
                'post_id': id,
            },
            success: function (response) {
                    response.comments.forEach(data =>
            {

            if (data.user_profile === '') {
                    var profile = "{% static 'social_assets/img/avatars/dan.jpg' %}";
                } else {
                    var profile = window.location.origin + data.user_profile;
                }
                document.getElementById('comment-body' + data.post_id).innerHTML +=
                    `
                            <div class="media is-comment">
                            <div class="media-left">
                                <div class="image">
                                    <img src="` + profile + `"
                                        data-demo-src="" data-user-popover="1" alt="">
                                </div>
                            </div>
                            <div class="media-content">
                                <a href="/user/profile/` + data.post_user_id +`">` + data.post_user + `</a>
                                <span class="time">` + data.user + `  &nbsp;&nbsp; - &nbsp;&nbsp;`+ data.timestamp +` </span>
                                <p>` + data.comment + `</p>

                                <div class="controls">
<!--                                    <div class="like-count">-->
<!--                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-thumbs-up"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>-->
<!--                                        <span>4</span>-->
<!--                                    </div>-->
<!--                                    <div class="reply">-->
<!--                                        <a>Reply</a>-->
<!--                                    </div>-->
<!--                                    <div class="edit">-->
<!--                                        <a>Edit</a>-->
<!--                                    </div>-->
                                </div>
                            </div>
                            <div class="media-right">
                                <div class="dropdown is-spaced is-right is-neutral dropdown-trigger">
                                    <div>
                                        <div class="button">
                                            <i data-feather="more-vertical"></i>
                                        </div>
                                    </div>
                                    <div class="dropdown-menu" role="menu">
                                        <div class="dropdown-content">
                                            <a class="dropdown-item">
                                                <div class="media">
                                                    <i data-feather="x"></i>
                                                    <div class="media-content">
                                                        <h3>Hide</h3>
                                                        <small>Hide this comment.</small>
                                                    </div>
                                                </div>
                                            </a>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item">
                                                <div class="media">
                                                    <i data-feather="flag"></i>
                                                    <div class="media-content">
                                                        <h3>Report</h3>
                                                        <small>Report this comment.</small>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>`;
        }
        );
            },
        })
    }

    function createComment(id, comments)
    {
        comments.forEach(data =>

            {

            if (data.user_profile === '') {
                    var profile = "{% static 'social_assets/img/avatars/dan.jpg' %}";
                } else {
                    var profile = window.location.origin + data.user_profile;
                }
                document.getElementById('comment-body' + id).innerHTML +=
                    `
                            <div class="media is-comment">
                            <div class="media-left">
                                <div class="image">
                                    <img src="` + profile + `"
                                        data-demo-src="" data-user-popover="1" alt="">
                                </div>
                            </div>
                            <div class="media-content">
                                <a href="/user/profile/` + data.post_user_id +`">` + data.post_user + `</a>
                                <span class="time">` + data.user + `  &nbsp;&nbsp; - &nbsp;&nbsp;`+ data.timestamp +` </span>
                                <p>` + data.comment + `</p>

                                <div class="controls">
<!--                                    <div class="like-count">-->
<!--                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-thumbs-up"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>-->
<!--                                        <span>4</span>-->
<!--                                    </div>-->
<!--                                    <div class="reply">-->
<!--                                        <a>Reply</a>-->
<!--                                    </div>-->
<!--                                    <div class="edit">-->
<!--                                        <a>Edit</a>-->
<!--                                    </div>-->
                                </div>
                            </div>
                            <div class="media-right">
                                <div class="dropdown is-spaced is-right is-neutral dropdown-trigger">
                                    <div>
                                        <div class="button">
                                            <i data-feather="more-vertical"></i>
                                        </div>
                                    </div>
                                    <div class="dropdown-menu" role="menu">
                                        <div class="dropdown-content">
                                            <a class="dropdown-item">
                                                <div class="media">
                                                    <i data-feather="x"></i>
                                                    <div class="media-content">
                                                        <h3>Hide</h3>
                                                        <small>Hide this comment.</small>
                                                    </div>
                                                </div>
                                            </a>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item">
                                                <div class="media">
                                                    <i data-feather="flag"></i>
                                                    <div class="media-content">
                                                        <h3>Report</h3>
                                                        <small>Report this comment.</small>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>`;
        }
        );
    }

    function moreComments(post_id)
    {
        $("#comment-text-action" + post_id).css({
            display: "none"
        });
        $('#comments-wrap' + post_id).removeClass('is-hidden');
        $('#content-wrap' + post_id).addClass('is-hidden');

        currentComments = $(`#comment-body${post_id} .is-comment`).length;
        $.ajax({
            async: true,
            method: "GET",
            url: "{% url 'post:load-more-comments' %}",
            data: {
                'post_id': post_id,
                'current_comments': currentComments,
            },
            success: function (response) {
                console.log(response);
                    if (response.Status == false) {
                        $(`#load-more-comments-btn_${post_id}`).css('display', 'none');
                        $(`#no-comments-tag_${post_id}`).css('display', 'block');
                    } else {
                        createComment(post_id,response.comments);
                    }
            },
        })
    }

    function postOptions(id) {
        $("#options-post-" + id).addClass('is-active');
    }
    function bookmarkPostOptions(id) {
        $("#options-bookmark-" + id).addClass('is-active');
    }
</script>